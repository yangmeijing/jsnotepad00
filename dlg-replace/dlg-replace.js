var $dlgReplace=function(){var l=$('<div class="notepad-dlg-replace"><div class="dialogbox notepad-dlgbox"><div class="notepad-dlg-titlebar"><p class="title">替换</p><span class="close-btn">✖</span></div><div class="main notepad-dlg-main"><label>查找内容(N):<input class="txt-search" type="text" autofocus><br></label><label>替换为(P):<input class="txt-replace" type="text"><br></label><label><input type="checkbox" value="capital-sense">区分大小写(C)</label><input class="btn-search btn" type="button" value="查找下一个(F)"><input class="btn-replace btn" type="button" value="替换(R)"><input class="btn-replace-all btn" type="button" value="全部替换(A)"><input class="btn-cancel btn" type="button" value="取消"></div></div></div>'),a={searchHandler:null,replaceHandler:null,replaceAllHandler:null},t=l.find(".close-btn"),n=l.find(".btn-cancel"),c=l.find(".btn-search"),d=l.find(".btn-replace"),i=l.find(".btn-replace-all"),s=l.find(".txt-search"),p=l.find(".txt-replace"),r=l.find(".notepad-dlg-titlebar");function b(){l.remove()}function u(){""!==s.val()?o(!0):o(!1)}function o(e){e?(c.removeAttr("disabled"),d.removeAttr("disabled"),i.removeAttr("disabled")):(c.attr("disabled","disabled"),d.attr("disabled","disabled"),i.attr("disabled","disabled"))}function e(){return{search:s.val(),replace:p.val(),capitalSense:"capital-sense"===l.find('input[type="checkbox"]:checked').val()}}function v(){a.searchHandler(e())}function f(){a.replaceHandler(e())}function h(){a.replaceAllHandler(e())}return{show:function(e){$.extend(a,e),$("body").append(l),l.find(".dialogbox").draggable({handle:r}),s.val(""),p.val(""),s.focus(),o(l.find('input[value="capital-sense"]')[0].checked=!1),t.click(b),n.click(b),s.keyup(u),c.click(v),d.click(f),i.click(h)}}}();